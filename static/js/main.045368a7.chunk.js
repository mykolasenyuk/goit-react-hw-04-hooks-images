(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGelleryItem_ImageGalleryItem__O8wt_",ImageGalleryItemImage:"ImageGelleryItem_ImageGalleryItemImage__jNq6z"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2PN41",Modal:"Modal_Modal__2_KGr"}},15:function(e,t,a){e.exports={Loader:"LoaderSpiner_Loader__vfSTc"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__35HpJ"}},17:function(e,t,a){e.exports={Button:"Button_Button__AI5oU"}},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(5),r=a.n(c),o=a(13),s=a(3),i=a(4);a(22);var l={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=21697918-6e31458764a1a6acf0f5f3f6d&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There is no images with name ".concat(e)))}))}},u=(a(23),a(14)),m=a.n(u),j=a(15),b=a.n(j),d=a(1);function h(){return Object(d.jsx)("div",{className:b.a.Loader,children:Object(d.jsx)(m.a,{type:"ThreeDots",color:"#00BFFF",height:120,width:120,timeout:3e3})})}var p=a(6),O=a.n(p);function f(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:O.a.Searchbar,children:Object(d.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):i.b.warn("Enter valid name,please!")},children:[Object(d.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(d.jsx)("span",{className:O.a.SearchFormButtonLabel})}),Object(d.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:O.a.SearchFormInput,type:"text",value:r,placeholder:"Search images and photos"})]})})}var g=a(11),_=a.n(g);function x(e){var t=e.webformatURL,a=e.tags,n=e.openModal;return Object(d.jsx)("li",{onClick:n,className:_.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:t,alt:a,className:_.a.ImageGalleryItemImage})})}var v=a(16),S=a.n(v),I=function(e){var t=e.images,a=e.openModal;return Object(d.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(d.jsx)(x,{tags:c,webformatURL:n,openModal:function(){return a(r,c)}},t)}))})},y=a(17),w=a.n(y);function N(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:t,className:w.a.Button,children:"Load more"})}var B=a(12),F=a.n(B),L=document.querySelector("#modal-root");function k(e){var t=e.onClose,a=e.image;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},role:"presentation",children:Object(d.jsx)("div",{className:F.a.Modal,children:Object(d.jsx)("img",{src:a.src,alt:a.alt})})}),L)}var G=a(8),M=a.n(G);function C(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),u=Object(s.a)(r,2),m=u[0],j=u[1],b=Object(n.useState)([]),p=Object(s.a)(b,2),O=p[0],g=p[1],_=Object(n.useState)("idle"),x=Object(s.a)(_,2),v=x[0],S=x[1],y=Object(n.useState)(null),w=Object(s.a)(y,2),B=w[0],F=w[1],L=Object(n.useState)(!1),G=Object(s.a)(L,2),C=G[0],E=G[1];Object(n.useEffect)((function(){a&&(S("pending"),l.fetchImages(a,m).then((function(e){return e.hits})).then((function(e){0===e.length?(S("rejected"),i.b.error("'".concat(a,"' not found!"))):i.b.success("'".concat(a,"' is finded")),g((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),S("resolved"),m>1&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})).catch((function(e){S("rejected")})))}),[a,m]);var A=function(e){c(""),j(1),g([]),F(null),S("idle"),E(!1),c(e)},T=function(e,t){E(!0),F({src:e,alt:t})},R=function(){j((function(e){return e+1}))};return"idle"===v?Object(d.jsxs)("div",{className:M.a.App,children:[Object(d.jsx)(f,{onSubmit:A}),Object(d.jsx)(i.a,{})]}):"pending"===v?Object(d.jsxs)("div",{className:M.a.App,children:[Object(d.jsx)(f,{onSubmit:A}),Object(d.jsx)(I,{openModal:T,images:O}),Object(d.jsx)(h,{}),O.length>0&&Object(d.jsx)(N,{onClick:R})]}):"rejected"===v?Object(d.jsx)("div",{className:M.a.App,children:Object(d.jsx)(f,{onSubmit:A})}):"resolved"===v?Object(d.jsxs)("div",{className:M.a.App,children:[Object(d.jsx)(f,{onSubmit:A}),Object(d.jsx)(I,{openModal:T,images:O}),O.length>0&&Object(d.jsx)(N,{onClick:R}),C&&Object(d.jsx)(k,{image:B,onClose:function(){E(!1)}}),Object(d.jsx)(i.a,{})]}):void 0}r.a.render(Object(d.jsx)(C,{}),document.querySelector("#root"))},6:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__TYNs2",SearchForm:"SearchBar_SearchForm__1gtKD",SearchFormButton:"SearchBar_SearchFormButton__1M59E",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3FGLB",SearchFormInput:"SearchBar_SearchFormInput__4x-Ry"}},8:function(e,t,a){e.exports={App:"App_App__4RcbE"}}},[[45,1,2]]]);
//# sourceMappingURL=main.045368a7.chunk.js.map